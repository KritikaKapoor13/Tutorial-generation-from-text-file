{"ast":null,"code":"var _jsxFileName = \"D:\\\\College\\\\Capstone project\\\\new-ui\\\\src\\\\components\\\\pages\\\\Upload.jsx\";\nimport React, { Component } from 'react';\nimport './Upload.css';\nimport Tutorial from './Tutorial';\nimport jwt_decode from 'jwt-decode';\nimport Loader from 'react-loader-spinner';\n\nclass Upload extends Component {\n  constructor() {\n    super();\n    this.state = {\n      text1: '',\n      summary1: '',\n      mapping: {},\n      ppt_path: '',\n      fname: '',\n      pdf_path: '',\n      numPages: null,\n      pageNumber: 1,\n      onsubmit: false,\n      boolean_question: {},\n      mcq: {},\n      subtopic_mapping: [],\n      filename: '',\n      username: jwt_decode(localStorage.usertoken).identity.username,\n      tutorial_id: 0,\n      tname: '',\n      label: '',\n      question_content: '',\n      loading: true\n    };\n    this.handleUpload = this.handleUpload.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    console.log(jwt_decode(localStorage.usertoken).identity.username);\n  }\n\n  handleUpload(e) {\n    e.preventDefault();\n    const fileInput = document.querySelector(\"#file-js-example input[type=file]\");\n\n    if (fileInput.files.length > 0) {\n      const fileName = document.querySelector(\"#file-js-example .file-name\");\n      fileName.textContent = fileInput.files[0].name;\n    }\n\n    ;\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    this.setState({\n      onsubmit: true\n    });\n    var x = document.getElementById(\"upload\");\n    x.src = \"https://cdn2.vectorstock.com/i/1000x1000/52/11/loading-icon-in-simple-style-vector-8445211.jpg\";\n    x.height = \"300px\";\n    const data = new FormData();\n    data.append('Upload', this.uploadInput.files[0]);\n    console.log(document.querySelector(\"input[name=\\'tname\\']\").value);\n    data.append('Tname', this.tname.value);\n    data.append('Label', this.label.value);\n    console.log(data);\n    fetch('http://localhost:5000/submit', {\n      method: 'POST',\n      body: data\n    }).then(response => {\n      response.json().then(body => {\n        this.setState({\n          text1: body.text,\n          summary1: body.summary,\n          mapping: body.mapping,\n          fname: body.fname,\n          filename: body.filename,\n          tname: body.tname,\n          label: body.label\n        });\n        console.log(this.state);\n        fetch('http://localhost:5000/ppt', {\n          method: 'POST',\n          body: JSON.stringify(this.state),\n          headers: new Headers({\n            \"content-type\": \"application/json\"\n          })\n        }).then(response => {\n          response.json().then(body => {\n            console.log(body);\n            this.setState({\n              ppt_path: body.ppt_path,\n              pdf_path: body.pdf_path,\n              subtopic_mapping: body.subtopic_mapping,\n              tutorial_id: body.tutorial_id,\n              question_content: body.question_content\n            });\n            console.log(this.state.ppt_path, this.state.pdf_path);\n            fetch('http://localhost:5000/assessments', {\n              method: 'POST',\n              body: JSON.stringify({\n                'data': this.state.question_content,\n                'id': this.state.tutorial_id\n              }),\n              headers: new Headers({\n                \"content-type\": \"application/json\"\n              })\n            }).then(response => {\n              response.json().then(body => {\n                this.setState({\n                  mcq: body.mcq\n                });\n                console.log(this.state);\n                this.setState({\n                  loading: false\n                });\n              });\n            }); // document.body.appendChild(pdf_preview);\n            // document.getElementById(\"pdf_preview\").src=this.state.pdf_path;\n          });\n        });\n      });\n    });\n  }\n\n  render() {\n    const Loadersymbol = /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 25\n      }\n    }, \"Your tutorial is being made!\");\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"upload\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 5\n      }\n    }, this.state.onsubmit && /*#__PURE__*/React.createElement(\"main\", {\n      role: \"main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"link\", {\n      rel: \"stylesheet\",\n      href: \"https://cdn.jsdelivr.net/npm/bulma@0.9.1/css/bulma.min.css\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"hero\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"is-size-3 has-text-black has-text-weight-bold has-text-centered\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 7\n      }\n    }, \"Upload any Document to get an instant Tutorial\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"is-size-4 has-text-weight-bold has-text-centered\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 7\n      }\n    }, \"You Know \\uD83D\\uDCD6, You Grow \\uD83D\\uDE80\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"is-size-5 has-text-black has-text-weight-medium has-text-centered\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 7\n      }\n    }, \" Accepted Formats - PDF \\u2022 TXT \")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 7\n      }\n    }), !this.state.loading ? /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"is-size-5 has-text-black has-text-weight-medium has-text-centered\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 7\n      }\n    }, \"Name:  \", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Enter name of tutorial\",\n      name: \"tname\",\n      ref: ref => {\n        this.tname = ref;\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 95\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 202\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 211\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"is-size-5 has-text-black has-text-weight-medium has-text-centered\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 7\n      }\n    }, \"Category: \", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Enter category of tutorial\",\n      name: \"label\",\n      ref: ref => {\n        this.label = ref;\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 98\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 209\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card has-text-centered\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      id: \"upload\",\n      src: \"https://cdn4.iconfinder.com/data/icons/files-and-folders-thinline-icons-set/144/File_PDF-512.png\",\n      alt: \"upload\",\n      height: \"300px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"file-js-example\",\n      class: \"file has-name is-fullwidth\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      class: \"file-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      class: \"file-input\",\n      type: \"file\",\n      name: \"file\",\n      accept: \".txt, application/pdf\",\n      onChange: this.handleUpload,\n      ref: ref => {\n        this.uploadInput = ref;\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      class: \"file-cta\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"file-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fas fa-upload\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      class: \"file-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 15\n      }\n    }, \" Choose a file\\u2026 \")), /*#__PURE__*/React.createElement(\"span\", {\n      class: \"file-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 13\n      }\n    }, \" No file uploaded \"))), /*#__PURE__*/React.createElement(\"button\", {\n      class: \"button has-text-centered is-large is-fullwidth is-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"submit has-text-centered\",\n      type: \"submit\",\n      name: \"upload file\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 11\n      }\n    }, \"Submit\"), /*#__PURE__*/React.createElement(\"span\", {\n      class: \"loading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fa fa-refresh\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      class: \"check\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fa fa-check\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 31\n      }\n    }))))) : /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: \"100%\",\n        height: \"100\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Loader, {\n      type: \"ThreeDots\",\n      color: \"#2BAD60\",\n      height: \"100\",\n      width: \"100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 7\n      }\n    }))), this.state.onsubmit && /*#__PURE__*/React.createElement(Tutorial, {\n      data: this.state,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 28\n      }\n    }));\n  }\n\n}\n\nexport default Upload;","map":{"version":3,"sources":["D:/College/Capstone project/new-ui/src/components/pages/Upload.jsx"],"names":["React","Component","Tutorial","jwt_decode","Loader","Upload","constructor","state","text1","summary1","mapping","ppt_path","fname","pdf_path","numPages","pageNumber","onsubmit","boolean_question","mcq","subtopic_mapping","filename","username","localStorage","usertoken","identity","tutorial_id","tname","label","question_content","loading","handleUpload","bind","handleSubmit","console","log","e","preventDefault","fileInput","document","querySelector","files","length","fileName","textContent","name","setState","x","getElementById","src","height","data","FormData","append","uploadInput","value","fetch","method","body","then","response","json","text","summary","JSON","stringify","headers","Headers","render","Loadersymbol","ref","width","display","justifyContent","alignItems"],"mappings":"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","sourcesContent":["import React,{Component} from 'react'\r\nimport './Upload.css';\r\nimport Tutorial from './Tutorial';\r\nimport jwt_decode from 'jwt-decode'\r\nimport Loader from 'react-loader-spinner';\r\nclass Upload extends Component{\r\n\r\n  constructor(){\r\n    super();\r\n    this.state = {\r\n        text1: '',\r\n        summary1: '',\r\n        mapping: {},\r\n        ppt_path: '',\r\n        fname: '',\r\n        pdf_path: '',\r\n        numPages: null, \r\n        pageNumber: 1,\r\n        onsubmit:false,\r\n        boolean_question: {},\r\n        mcq:{},\r\n        subtopic_mapping:[],\r\n        filename:'',\r\n        username:jwt_decode(localStorage.usertoken).identity.username,\r\n        tutorial_id:0,\r\n        tname:'',\r\n        label:'',\r\n        question_content:'',\r\n        loading:true\r\n     };\r\n\r\n    this.handleUpload = this.handleUpload.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    console.log(jwt_decode(localStorage.usertoken).identity.username)\r\n    \r\n  }\r\n \r\n  handleUpload(e){\r\n    e.preventDefault();\r\n    const fileInput = document.querySelector(\r\n            \"#file-js-example input[type=file]\"\r\n          );\r\n    if (fileInput.files.length > 0) {\r\n              const fileName = document.querySelector(\r\n                \"#file-js-example .file-name\"\r\n              );\r\n              fileName.textContent = fileInput.files[0].name;\r\n            };\r\n  }\r\n\r\n  handleSubmit(e){\r\n    e.preventDefault();\r\n    this.setState({onsubmit:true})\r\n    var x=document.getElementById(\"upload\");\r\n    x.src=\"https://cdn2.vectorstock.com/i/1000x1000/52/11/loading-icon-in-simple-style-vector-8445211.jpg\";\r\n    x.height=\"300px\";\r\n    const data = new FormData();\r\n    data.append('Upload', this.uploadInput.files[0]);\r\n    console.log(document.querySelector(\"input[name=\\'tname\\']\").value)\r\n    data.append('Tname', this.tname.value);\r\n    data.append('Label',this.label.value);\r\n    console.log(data);\r\n    fetch('http://localhost:5000/submit', {\r\n      method: 'POST',\r\n      body: data,\r\n    }).then((response) => {\r\n      response.json().then((body) => {\r\n        this.setState({ text1: body.text,  summary1: body.summary, mapping:body.mapping, fname:body.fname, filename:body.filename,tname:body.tname,label:body.label});\r\n        console.log(this.state);\r\n            fetch('http://localhost:5000/ppt', {\r\n      method: 'POST',\r\n      body: JSON.stringify(this.state),\r\n      headers: new Headers({\r\n        \"content-type\": \"application/json\"\r\n      }),\r\n    }).then((response) => {\r\n      response.json().then((body) => {\r\n        console.log(body)\r\n        this.setState({ ppt_path: body.ppt_path , pdf_path: body.pdf_path, subtopic_mapping:body.subtopic_mapping,tutorial_id:body.tutorial_id,question_content:body.question_content});\r\n        console.log(this.state.ppt_path,this.state.pdf_path);\r\n        fetch('http://localhost:5000/assessments', {\r\n      method: 'POST',\r\n      body:JSON.stringify({'data':this.state.question_content,'id':this.state.tutorial_id}),\r\n      headers: new Headers({\r\n        \"content-type\": \"application/json\"\r\n      }),\r\n    }).then((response) => {\r\n      response.json().then((body) => {\r\n        this.setState({mcq:body.mcq});\r\n        console.log(this.state);\r\n        this.setState({loading:false});\r\n    });\r\n});\r\n    \r\n        // document.body.appendChild(pdf_preview);\r\n        // document.getElementById(\"pdf_preview\").src=this.state.pdf_path;\r\n      });\r\n    });\r\n    });\r\n});\r\n  }\r\n  render(){\r\n    const Loadersymbol=(<h1>Your tutorial is being made!</h1>)\r\n  return (\r\n    <div className=\"upload\">\r\n      {this.state.onsubmit &&(\r\n      <main role=\"main\">\r\n      <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bulma@0.9.1/css/bulma.min.css\" />\r\n    <div className=\"hero\">\r\n      <p className=\"is-size-3 has-text-black has-text-weight-bold has-text-centered\">Upload any Document to get an instant\r\n        Tutorial</p>\r\n      <p className=\"is-size-4 has-text-weight-bold has-text-centered\">You Know 📖, You Grow 🚀</p>\r\n      <p className=\"is-size-5 has-text-black has-text-weight-medium has-text-centered\"> Accepted Formats - PDF • TXT </p>\r\n      </div>\r\n      <br></br>\r\n      {!this.state.loading?\r\n      (<form onSubmit={this.handleSubmit}>\r\n      <p className=\"is-size-5 has-text-black has-text-weight-medium has-text-centered\">Name:  <input type=\"text\" placeholder=\"Enter name of tutorial\" name=\"tname\" ref={(ref) => { this.tname = ref; }}/><br/></p><br></br>\r\n      <p className=\"is-size-5 has-text-black has-text-weight-medium has-text-centered\">Category: <input type=\"text\" placeholder=\"Enter category of tutorial\" name=\"label\" ref={(ref) => { this.label = ref; }}/><br/></p>\r\n    <div className=\"card has-text-centered\">\r\n    \r\n    <img id=\"upload\" src=\"https://cdn4.iconfinder.com/data/icons/files-and-folders-thinline-icons-set/144/File_PDF-512.png\"\r\n        alt=\"upload\" height=\"300px\"/>\r\n        <div id=\"file-js-example\" class=\"file has-name is-fullwidth\">\r\n          <label class=\"file-label\">\r\n            <input class=\"file-input\" type=\"file\" name=\"file\" accept=\".txt, application/pdf\" onChange={this.handleUpload} ref={(ref) => { this.uploadInput = ref; }}/>\r\n            <span class=\"file-cta\">\r\n              <span class=\"file-icon\">\r\n                <i class=\"fas fa-upload\"></i>\r\n              </span>\r\n              <span class=\"file-label\"> Choose a file… </span>\r\n            </span>\r\n            <span class=\"file-name\"> No file uploaded </span>\r\n          </label>\r\n        </div>\r\n        <button class=\"button has-text-centered is-large is-fullwidth is-dark\">\r\n          <span class=\"submit has-text-centered\" type=\"submit\" name=\"upload file\">Submit</span>\r\n          <span class=\"loading\"><i class=\"fa fa-refresh\"></i></span>\r\n          <span class=\"check\"><i class=\"fa fa-check\"></i></span>\r\n        </button>  \r\n        </div>\r\n      </form>):(<div\r\n      style={{\r\n        width: \"100%\",\r\n        height: \"100\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\"\r\n      }}\r\n    >\r\n      <Loader type=\"ThreeDots\" color=\"#2BAD60\" height=\"100\" width=\"100\" />\r\n    </div>)}\r\n      \r\n  </main>)}\r\n  {/* {!this.state.onsubmit && (this.state.loading && )} */}\r\n  {this.state.onsubmit && (<Tutorial data={this.state}/>)}\r\n    </div>\r\n \r\n  );\r\n    }\r\n}\r\n\r\nexport default Upload;"]},"metadata":{},"sourceType":"module"}