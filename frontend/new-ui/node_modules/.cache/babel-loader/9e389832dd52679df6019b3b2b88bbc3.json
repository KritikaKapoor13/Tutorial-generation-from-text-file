{"ast":null,"code":"var _jsxFileName = \"D:\\\\College\\\\Capstone project\\\\Final\\\\frontend\\\\new-ui\\\\src\\\\components\\\\pages\\\\Assessment.jsx\";\nimport React, { Component } from 'react';\n\nclass Assessment extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      boolean_question: {},\n      mcq: this.props.location.data\n    };\n    this.gen_questions = this.gen_questions.bind(this);\n    console.log(this.state.mcq);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.shuffle = this.shuffle.bind(this);\n  }\n\n  componentDidMount() {\n    for (var i = 0; i < this.state.mcq.length; i++) {\n      this.state.mcq[i][\"options\"] = this.shuffle(this.state.mcq[i][\"options\"]);\n    } //this.gen_questions();\n\n  }\n\n  gen_questions() {\n    // ev.preventDefault();\n    fetch('http://localhost:5000/assessments', {\n      method: 'POST',\n      body: JSON.stringify({\n        'data': this.props.location.data\n      }),\n      headers: new Headers({\n        \"content-type\": \"application/json\"\n      })\n    }).then(response => {\n      response.json().then(body => {\n        this.setState({\n          boolean_question: body.bool,\n          mcq: body.mcq\n        });\n        console.log(this.state); // document.getElementById(\"text\").innerHTML=body.text;\n        // document.getElementById(\"summary\").innerHTML=body.summary;\n        // document.getElementsByClassName(\"heading\")[0].style.visibility=\"visible\";\n        // document.getElementsByClassName(\"container1\")[0].style.visibility=\"visible\";\n        // document.getElementsByClassName(\"heading\")[0].style.display=\"flex\";\n        // document.getElementsByClassName(\"container1\")[0].style.display=\"flex\";\n      });\n    });\n  }\n\n  shuffle(array) {\n    var currentIndex = array.length,\n        temporaryValue,\n        randomIndex; // While there remain elements to shuffle...\n\n    while (0 !== currentIndex) {\n      // Pick a remaining element...\n      randomIndex = Math.floor(Math.random() * currentIndex);\n      currentIndex -= 1; // And swap it with the current element.\n\n      temporaryValue = array[currentIndex];\n      array[currentIndex] = array[randomIndex];\n      array[randomIndex] = temporaryValue;\n    }\n\n    return array;\n  }\n\n  onSubmit(e) {\n    e.preventDefault(); // var formElements = \n\n    console.log(this.state.mcq.length);\n    var s = 0;\n\n    for (var i = 0; i < Object.keys(this.state.mcq).length; i++) {\n      // var ans=document.getElementsByName(i.toString())\n      // if(ans.checked)\n      this.state.mcq[i][\"user_answer\"] = document.querySelector(\"input[name=\\'\" + i.toString() + \"\\']:checked\").value; // ans.value;\n\n      if (this.state.mcq[i][\"user_answer\"] === this.state.mcq[i][\"answer\"]) s += 1;\n    }\n\n    console.log(this.state.mcq);\n    console.log(s);\n    document.getElementById(\"score\").innerHTML = \"Your score is : \" + s + \"/\" + Object.keys(this.state.mcq).length;\n  }\n\n  render() {\n    //   this.gen_questions()\n    return (\n      /*#__PURE__*/\n      // <form noValidate onSubmit={this.onSubmit}>\n      React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        noValidate: true,\n        name: \"qa\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 7\n        }\n      }, Object.keys(this.state.mcq).map((key, index) => /*#__PURE__*/React.createElement(\"div\", {\n        className: \"jumbotron\",\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 12\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        className: \"text-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }\n      }, index + 1, \") \", this.state.mcq[key][\"question_statement\"]), this.state.mcq[key][\"options\"].map((option, index1) => /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          color: option === this.state.mcq[\"key\"][\"answer\"] ? 'green' : 'black',\n          textAlign: 'left',\n          fontSize: '3vh'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"radio\",\n        name: index,\n        value: option,\n        disabled: \"True\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 15\n        }\n      }), \"  \", option)))))), /*#__PURE__*/React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 5\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        id: \"score\",\n        style: {\n          color: 'black',\n          textAlign: 'center',\n          fontSize: '6vh'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 5\n        }\n      }))\n    );\n  }\n\n}\n\nexport default Assessment;","map":{"version":3,"sources":["D:/College/Capstone project/Final/frontend/new-ui/src/components/pages/Assessment.jsx"],"names":["React","Component","Assessment","constructor","props","state","boolean_question","mcq","location","data","gen_questions","bind","console","log","onSubmit","shuffle","componentDidMount","i","length","fetch","method","body","JSON","stringify","headers","Headers","then","response","json","setState","bool","array","currentIndex","temporaryValue","randomIndex","Math","floor","random","e","preventDefault","s","Object","keys","document","querySelector","toString","value","getElementById","innerHTML","render","map","key","index","option","index1","color","textAlign","fontSize"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\n\r\nclass Assessment extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n    \r\n         this.state = {\r\n           boolean_question: {},\r\n           mcq:this.props.location.data\r\n        };\r\n    \r\n        this.gen_questions = this.gen_questions.bind(this);\r\n        console.log(this.state.mcq)\r\n        this.onSubmit=this.onSubmit.bind(this);\r\n        this.shuffle=this.shuffle.bind(this);\r\n      }\r\n      componentDidMount() {\r\n        for(var i=0;i<this.state.mcq.length;i++){\r\n          this.state.mcq[i][\"options\"]=this.shuffle(this.state.mcq[i][\"options\"]);\r\n        }\r\n        //this.gen_questions();\r\n     }\r\n    \r\n      gen_questions(){\r\n        // ev.preventDefault();\r\n        fetch('http://localhost:5000/assessments', {\r\n      method: 'POST',\r\n      body:JSON.stringify({'data':this.props.location.data}),\r\n      headers: new Headers({\r\n        \"content-type\": \"application/json\"\r\n      }),\r\n    }).then((response) => {\r\n      response.json().then((body) => {\r\n        this.setState({ boolean_question: body.bool, mcq:body.mcq});\r\n        console.log(this.state);\r\n        // document.getElementById(\"text\").innerHTML=body.text;\r\n        // document.getElementById(\"summary\").innerHTML=body.summary;\r\n        // document.getElementsByClassName(\"heading\")[0].style.visibility=\"visible\";\r\n        // document.getElementsByClassName(\"container1\")[0].style.visibility=\"visible\";\r\n        // document.getElementsByClassName(\"heading\")[0].style.display=\"flex\";\r\n        // document.getElementsByClassName(\"container1\")[0].style.display=\"flex\";\r\n      });\r\n    });\r\n  }\r\n  shuffle(array) {\r\n    var currentIndex = array.length, temporaryValue, randomIndex;\r\n  \r\n    // While there remain elements to shuffle...\r\n    while (0 !== currentIndex) {\r\n  \r\n      // Pick a remaining element...\r\n      randomIndex = Math.floor(Math.random() * currentIndex);\r\n      currentIndex -= 1;\r\n  \r\n      // And swap it with the current element.\r\n      temporaryValue = array[currentIndex];\r\n      array[currentIndex] = array[randomIndex];\r\n      array[randomIndex] = temporaryValue;\r\n    }\r\n  \r\n    return array;\r\n  }\r\n  onSubmit(e) {\r\n    e.preventDefault()\r\n    // var formElements = \r\n    console.log(this.state.mcq.length);\r\n    var s=0;\r\n    for(var i=0;i<Object.keys(this.state.mcq).length;i++){\r\n      // var ans=document.getElementsByName(i.toString())\r\n      // if(ans.checked)\r\n      this.state.mcq[i][\"user_answer\"]=document.querySelector(\"input[name=\\'\"+i.toString()+\"\\']:checked\").value;\r\n      // ans.value;\r\n      if(this.state.mcq[i][\"user_answer\"]===this.state.mcq[i][\"answer\"])\r\n        s+=1;\r\n    }\r\n\r\n    console.log(this.state.mcq);\r\n    console.log(s);\r\n    document.getElementById(\"score\").innerHTML=\"Your score is : \"+s+\"/\"+Object.keys(this.state.mcq).length;\r\n  }\r\n\r\n  render() {\r\n    //   this.gen_questions()\r\n    return (\r\n    // <form noValidate onSubmit={this.onSubmit}>\r\n    <div>\r\n      <form noValidate name=\"qa\">\r\n      { \r\n        Object.keys(this.state.mcq).map((key, index) => ( \r\n            <div className=\"jumbotron\" key={index}>\r\n           <div>\r\n          <h4 className=\"text-body\">{index+1}) {this.state.mcq[key][\"question_statement\"]}</h4> \r\n          {\r\n          this.state.mcq[key][\"options\"].map((option,index1) => (\r\n            <div style={{color: option===this.state.mcq[\"key\"][\"answer\"]? 'green': 'black', textAlign: 'left', fontSize:'3vh' }}>\r\n              <input type=\"radio\" name={index} value={option} disabled=\"True\"/>  {option}\r\n            </div>)\r\n          )}\r\n          </div>\r\n          </div>\r\n        ))\r\n      }\r\n    {/* <input type=\"submit\" className=\"btn-secondary btn-lg\" disabled=\"True\"/> */}\r\n    </form>\r\n    <hr></hr>\r\n    <div id=\"score\" style={{color: 'black', textAlign: 'center', fontSize:'6vh' }}></div>\r\n    </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Assessment"]},"metadata":{},"sourceType":"module"}