{"ast":null,"code":"var _jsxFileName = \"D:\\\\College\\\\Capstone project\\\\Final\\\\frontend\\\\new-ui\\\\src\\\\components\\\\pages\\\\StudentAssessment.jsx\";\nimport React from 'react';\nimport './studentass.css';\nimport Question from './StudentAssessment/Question';\nimport Quiz from './StudentAssessment/Quiz';\nimport Result from './StudentAssessment/Result';\nimport jwt_decode from 'jwt-decode';\n\nclass Sassessment extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      counter: 0,\n      questionId: 1,\n      question: this.props.location.data[0][\"question_statement\"],\n      answerOptions: this.props.location.data[0][\"options\"],\n      answer: '',\n      answersCount: {},\n      result: '',\n      mcq: this.props.location.data,\n      correct_answer: this.props.location.data[0][\"answer\"],\n      result: '',\n      score: 0,\n      tid: this.props.location.tid\n    };\n    this.handleAnswerSelected = this.handleAnswerSelected.bind(this); // this.setNextQuestion=this.setNextQuestion.bind(this);\n    // this.setUserAnswer=this.setUserAnswer.bind(this);\n  }\n\n  componentDidMount() {//   this.setState({question:this.state.mcq[0][\"question_statement\"],answerOptions:this.state.mcq[0][\"options\"],answer:this.state.mcq[0][\"answer\"]})\n    //   console.log(this.state)\n  }\n\n  setUserAnswer(answer) {\n    this.setState((state, props) => ({\n      score: this.state.correct_answer === answer ? this.state.score + 1 : this.state.score,\n      answer: answer\n    }));\n    console.log(this.state);\n    fetch('http://localhost:5000/set_answers', {\n      method: 'POST',\n      body: JSON.stringify({\n        'question_number': this.state.tid.toString() + \"_\" + this.state.questionId,\n        'answer': answer,\n        'username': jwt_decode(localStorage.userToken).identity.username,\n        'id': this.state.tid\n      }),\n      headers: new Headers({\n        \"content-type\": \"application/json\"\n      })\n    });\n  }\n\n  setNextQuestion() {\n    console.log(\"setnext\");\n    const counter = this.state.counter + 1;\n    const questionId = this.state.questionId + 1;\n    this.setState({\n      counter: counter,\n      questionId: questionId,\n      question: this.state.mcq[counter][\"question_statement\"],\n      answerOptions: this.state.mcq[counter][\"options\"],\n      answer: '',\n      correct_answer: this.state.mcq[counter][\"answer\"]\n    });\n  }\n\n  handleAnswerSelected(event) {\n    console.log(\"handle\");\n    this.setUserAnswer(event.currentTarget.value);\n\n    if (this.state.questionId < Object.keys(this.state.mcq).length) {\n      if (this.state.answer === this.state.correct_answer) {\n        setTimeout(() => this.setNextQuestion(), 300);\n      } else {\n        setTimeout(() => this.setNextQuestion(), 3000);\n      }\n    } else {\n      setTimeout(() => this.setResults(this.state.score), 300);\n    }\n  }\n\n  setResults(result) {\n    this.setState({\n      result: true\n    });\n  }\n\n  renderQuiz() {\n    return /*#__PURE__*/React.createElement(Quiz, {\n      answer: this.state.answer,\n      answerOptions: this.state.answerOptions,\n      questionId: this.state.questionId,\n      question: this.state.question,\n      questionTotal: Object.keys(this.state.mcq).length,\n      onAnswerSelected: this.handleAnswerSelected,\n      correct_answer: this.state.correct_answer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    });\n  }\n\n  renderResult() {\n    return /*#__PURE__*/React.createElement(Result, {\n      quizResult: this.state.score,\n      full: Object.keys(this.state.mcq).length,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 14\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }\n    }, this.state.result ? this.renderResult() : this.renderQuiz());\n  }\n\n}\n\nexport default Sassessment;","map":{"version":3,"sources":["D:/College/Capstone project/Final/frontend/new-ui/src/components/pages/StudentAssessment.jsx"],"names":["React","Question","Quiz","Result","jwt_decode","Sassessment","Component","constructor","props","state","counter","questionId","question","location","data","answerOptions","answer","answersCount","result","mcq","correct_answer","score","tid","handleAnswerSelected","bind","componentDidMount","setUserAnswer","setState","console","log","fetch","method","body","JSON","stringify","toString","localStorage","userToken","identity","username","headers","Headers","setNextQuestion","event","currentTarget","value","Object","keys","length","setTimeout","setResults","renderQuiz","renderResult","render"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './studentass.css';\r\nimport Question from './StudentAssessment/Question';\r\nimport Quiz from './StudentAssessment/Quiz';\r\nimport Result from './StudentAssessment/Result';\r\nimport jwt_decode from 'jwt-decode';\r\nclass Sassessment extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n          counter: 0,\r\n          questionId: 1,\r\n          question: this.props.location.data[0][\"question_statement\"],\r\n          answerOptions: this.props.location.data[0][\"options\"],\r\n          answer: '',\r\n          answersCount: {},\r\n          result: '',\r\n          mcq: this.props.location.data,\r\n          correct_answer: this.props.location.data[0][\"answer\"],\r\n          result: '',\r\n          score:0,\r\n          tid: this.props.location.tid\r\n        };\r\n        this.handleAnswerSelected = this.handleAnswerSelected.bind(this);\r\n        // this.setNextQuestion=this.setNextQuestion.bind(this);\r\n        // this.setUserAnswer=this.setUserAnswer.bind(this);\r\n      }\r\n      componentDidMount(){\r\n        //   this.setState({question:this.state.mcq[0][\"question_statement\"],answerOptions:this.state.mcq[0][\"options\"],answer:this.state.mcq[0][\"answer\"]})\r\n        //   console.log(this.state)\r\n      }\r\n      setUserAnswer(answer) {\r\n        this.setState((state, props) => ({\r\n          score: (this.state.correct_answer===answer)?this.state.score+1:this.state.score,\r\n          answer: answer\r\n        }));\r\n        console.log(this.state)\r\n        fetch('http://localhost:5000/set_answers', {\r\n      method: 'POST',\r\n      body: JSON.stringify({'question_number':this.state.tid.toString()+\"_\"+this.state.questionId,'answer':answer,'username':jwt_decode(localStorage.userToken).identity.username,'id':this.state.tid}),\r\n      headers: new Headers({\r\n        \"content-type\": \"application/json\"\r\n      }),\r\n    })}\r\n      setNextQuestion() {\r\n          console.log(\"setnext\");\r\n        const counter = this.state.counter + 1;\r\n        const questionId = this.state.questionId + 1;\r\n        this.setState({\r\n          counter: counter,\r\n          questionId: questionId,\r\n          question: this.state.mcq[counter][\"question_statement\"],\r\n          answerOptions: this.state.mcq[counter][\"options\"],\r\n          answer: '',\r\n          correct_answer: this.state.mcq[counter][\"answer\"]\r\n        });\r\n      }\r\n      handleAnswerSelected(event) {\r\n        console.log(\"handle\")\r\n        this.setUserAnswer(event.currentTarget.value);\r\n        if (this.state.questionId < Object.keys(this.state.mcq).length) {\r\n          if(this.state.answer===this.state.correct_answer){\r\n            setTimeout(() => this.setNextQuestion(), 300);\r\n          }\r\n          else{\r\n            setTimeout(() => this.setNextQuestion(), 3000);\r\n          }\r\n          } else {\r\n            setTimeout(() => this.setResults(this.state.score), 300);\r\n          }\r\n      }\r\n    \r\n      setResults(result) {\r\n          this.setState({ result: true });\r\n      }\r\n\r\n    renderQuiz(){\r\n        return (\r\n            <Quiz\r\n        answer={this.state.answer}\r\n        answerOptions={this.state.answerOptions}\r\n        questionId={this.state.questionId}\r\n        question={this.state.question}\r\n        questionTotal={Object.keys(this.state.mcq).length}\r\n        onAnswerSelected={this.handleAnswerSelected}\r\n        correct_answer={this.state.correct_answer}\r\n      />\r\n        );\r\n    }\r\n\r\n    renderResult() {\r\n      return <Result quizResult={this.state.score} full={Object.keys(this.state.mcq).length} />;\r\n    }\r\n\r\n    render(){\r\n      return (\r\n        <div>\r\n        {this.state.result ? this.renderResult() : this.renderQuiz()}\r\n        </div>\r\n      )\r\n    }\r\n}\r\n\r\nexport default Sassessment;"]},"metadata":{},"sourceType":"module"}