{"ast":null,"code":"var _jsxFileName = \"D:\\\\College\\\\Capstone project\\\\new-ui\\\\src\\\\components\\\\pages\\\\Profile.jsx\";\nimport React, { Component } from 'react';\nimport jwt_decode from 'jwt-decode';\nimport CardItem from '../CardItem';\nimport '../Cards.css';\n\nclass Profile extends Component {\n  constructor() {\n    super();\n    this.state = {\n      username: '',\n      email: '',\n      role: '',\n      errors: {},\n      tutorials: {},\n      items: [],\n      scores: ''\n    };\n    this.numberRange = this.numberRange.bind(this);\n  }\n\n  numberRange(start, end) {\n    return new Array(end - start).fill().map((d, i) => i + start);\n  }\n\n  componentDidMount() {\n    if (this.state.role === \"teacher\") {\n      fetch('http://localhost:5000/teacher_profile', {\n        method: 'POST',\n        body: JSON.stringify({\n          'username': this.state.username\n        }),\n        headers: new Headers({\n          \"content-type\": \"application/json\"\n        })\n      }).then(response => {\n        response.json().then(body => {\n          this.setState({\n            tutorials: body\n          }); //console.log(this.state.tutorials[0]['name']);\n          //this.state.items = [];\n\n          var l = [];\n\n          for (var index = 0; index < Object.keys(this.state.tutorials).length; index += 3) {\n            l.push( /*#__PURE__*/React.createElement(\"ul\", {\n              className: \"cards__items\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 39,\n                columnNumber: 12\n              }\n            }, index < Object.keys(this.state.tutorials).length ? /*#__PURE__*/React.createElement(CardItem, {\n              src: this.state.tutorials[index]['url'],\n              text: this.state.tutorials[index]['name'],\n              label: this.state.tutorials[index]['label'],\n              path: {\n                pathname: \"/ppt/\" + this.state.tutorials[index][\"name\"] + \"_\" + this.state.tutorials[index][\"label\"],\n                mapping: this.state.tutorials[index][\"subtopic_mapping\"],\n                pdf_path: this.state.tutorials[index][\"pdf_path\"],\n                ppt_path: this.state.tutorials[index][\"ppt_path\"],\n                mcq: this.state.tutorials[index][\"mcq\"]\n              },\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 41,\n                columnNumber: 7\n              }\n            }) : false, index + 1 < Object.keys(this.state.tutorials).length ? /*#__PURE__*/React.createElement(CardItem, {\n              src: this.state.tutorials[index + 1]['url'],\n              text: this.state.tutorials[index + 1]['name'],\n              label: this.state.tutorials[index + 1]['label'],\n              path: {\n                pathname: \"/ppt/\" + this.state.tutorials[index + 1][\"name\"] + \"_\" + this.state.tutorials[index + 1][\"label\"],\n                mapping: this.state.tutorials[index + 1][\"subtopic_mapping\"],\n                pdf_path: this.state.tutorials[index + 1][\"pdf_path\"],\n                ppt_path: this.state.tutorials[index + 1][\"ppt_path\"],\n                mcq: this.state.tutorials[index + 1][\"mcq\"]\n              },\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 49,\n                columnNumber: 7\n              }\n            }) : false, index + 2 < Object.keys(this.state.tutorials).length ? /*#__PURE__*/React.createElement(CardItem, {\n              src: this.state.tutorials[index + 2]['url'],\n              text: this.state.tutorials[index + 2]['name'],\n              label: this.state.tutorials[index + 2]['label'],\n              path: {\n                pathname: \"/ppt/\" + this.state.tutorials[index + 2][\"name\"] + \"_\" + this.state.tutorials[index + 2][\"label\"],\n                mapping: this.state.tutorials[index + 2][\"subtopic_mapping\"],\n                pdf_path: this.state.tutorials[index + 2][\"pdf_path\"],\n                ppt_path: this.state.tutorials[index + 2][\"ppt_path\"],\n                mcq: this.state.tutorials[index + 2][\"mcq\"]\n              },\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 7\n              }\n            }) : false));\n          }\n\n          this.setState({\n            items: l\n          }); // this.setState({onsubmit:true});\n\n          console.log(this.state.items);\n        });\n      });\n    } else {\n      fetch('http://localhost:5000/student_profile', {\n        method: 'POST',\n        body: JSON.stringify({\n          'username': this.state.username\n        }),\n        headers: new Headers({\n          \"content-type\": \"application/json\"\n        })\n      }).then(response => {\n        response.json().then(body => {\n          this.setState({\n            scores: body\n          });\n        });\n      });\n    }\n  }\n\n  componentWillMount() {\n    const token = localStorage.usertoken;\n    const decoded = jwt_decode(token);\n    this.setState({\n      username: decoded.identity.username,\n      email: decoded.identity.email,\n      role: decoded.identity.role\n    });\n  }\n\n  render() {\n    // console.log(this.state.tutorials[0]['name'])\n    console.log(this.numberRange(5, 8));\n    const teacher = /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 10\n      }\n    }, \"Your tutorials\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cards__wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 7\n      }\n    }, this.state.items));\n    const student = /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 24\n      }\n    }, \"Your Progress\"));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-8 mx-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"text-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 21\n      }\n    }, \"PROFILE\"))), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table col-md-6 mx-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"tbody\", {\n      className: \"text-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }\n    }, this.state.username)), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }\n    }, \"Role\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }\n    }, this.state.role)))))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }\n    }), this.state.role === \"teacher\" ? teacher : student);\n  }\n\n}\n\nexport default Profile;","map":{"version":3,"sources":["D:/College/Capstone project/new-ui/src/components/pages/Profile.jsx"],"names":["React","Component","jwt_decode","CardItem","Profile","constructor","state","username","email","role","errors","tutorials","items","scores","numberRange","bind","start","end","Array","fill","map","d","i","componentDidMount","fetch","method","body","JSON","stringify","headers","Headers","then","response","json","setState","l","index","Object","keys","length","push","pathname","mapping","pdf_path","ppt_path","mcq","console","log","componentWillMount","token","localStorage","usertoken","decoded","identity","render","teacher","student"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport jwt_decode from 'jwt-decode'\r\nimport CardItem from '../CardItem';\r\nimport '../Cards.css';\r\nclass Profile extends Component {\r\n  constructor() {\r\n    super()\r\n    this.state = {\r\n      username: '',\r\n      email: '',\r\n      role: '',\r\n      errors: {},\r\n      tutorials:{},\r\n      items:[],\r\n      scores:''\r\n    }\r\n    this.numberRange=this.numberRange.bind(this);\r\n  }\r\n\r\n  numberRange (start, end) {\r\n    return new Array(end - start).fill().map((d, i) => i + start);\r\n  }\r\n\r\n  componentDidMount() {\r\n    if(this.state.role===\"teacher\"){\r\n    fetch('http://localhost:5000/teacher_profile', {\r\n      method: 'POST',\r\n      body:JSON.stringify({'username':this.state.username}),\r\n      headers: new Headers({\r\n        \"content-type\": \"application/json\"\r\n      }),\r\n    }).then((response) => {\r\n      response.json().then((body) => {\r\n        this.setState({tutorials:body});\r\n        //console.log(this.state.tutorials[0]['name']);\r\n        //this.state.items = [];\r\n        var l=[];\r\n    for(var index=0;index<Object.keys(this.state.tutorials).length;index+=3){\r\n    l.push(<ul className='cards__items'>\r\n      {index<Object.keys(this.state.tutorials).length?\r\n      <CardItem\r\n        src={this.state.tutorials[index]['url']}\r\n        text={this.state.tutorials[index]['name']}\r\n        label={this.state.tutorials[index]['label']}\r\n        path={{pathname:\"/ppt/\"+this.state.tutorials[index][\"name\"]+\"_\"+this.state.tutorials[index][\"label\"],mapping:this.state.tutorials[index][\"subtopic_mapping\"],pdf_path:this.state.tutorials[index][\"pdf_path\"],ppt_path:this.state.tutorials[index][\"ppt_path\"],mcq:this.state.tutorials[index][\"mcq\"]}}\r\n      />\r\n      :false}\r\n      {index+1<Object.keys(this.state.tutorials).length?\r\n      <CardItem\r\n        src={this.state.tutorials[index+1]['url']}\r\n        text={this.state.tutorials[index+1]['name']}\r\n        label={this.state.tutorials[index+1]['label']}\r\n        path={{pathname:\"/ppt/\"+this.state.tutorials[index+1][\"name\"]+\"_\"+this.state.tutorials[index+1][\"label\"],mapping:this.state.tutorials[index+1][\"subtopic_mapping\"],pdf_path:this.state.tutorials[index+1][\"pdf_path\"],ppt_path:this.state.tutorials[index+1][\"ppt_path\"],mcq:this.state.tutorials[index+1][\"mcq\"]}}\r\n      />\r\n      :false}\r\n      {index+2<Object.keys(this.state.tutorials).length?\r\n      <CardItem\r\n        src={this.state.tutorials[index+2]['url']}\r\n        text={this.state.tutorials[index+2]['name']}\r\n        label={this.state.tutorials[index+2]['label']}\r\n        path={{pathname:\"/ppt/\"+this.state.tutorials[index+2][\"name\"]+\"_\"+this.state.tutorials[index+2][\"label\"],mapping:this.state.tutorials[index+2][\"subtopic_mapping\"],pdf_path:this.state.tutorials[index+2][\"pdf_path\"],ppt_path:this.state.tutorials[index+2][\"ppt_path\"],mcq:this.state.tutorials[index+2][\"mcq\"]}}\r\n      />\r\n      :false}\r\n    </ul>)\r\n    }\r\n    this.setState({items:l});\r\n        // this.setState({onsubmit:true});\r\n        console.log(this.state.items)\r\n    });\r\n  })\r\n  }\r\n  else{\r\n    fetch('http://localhost:5000/student_profile', {\r\n      method: 'POST',\r\n      body:JSON.stringify({'username':this.state.username}),\r\n      headers: new Headers({\r\n        \"content-type\": \"application/json\"\r\n      }),\r\n    }).then((response) => {\r\n      response.json().then((body) => {\r\n        this.setState({scores:body})\r\n  })})\r\n}\r\n  }\r\n\r\n  componentWillMount(){\r\n    const token = localStorage.usertoken\r\n    const decoded = jwt_decode(token)\r\n    this.setState({\r\n      username: decoded.identity.username,\r\n      email: decoded.identity.email,\r\n      role: decoded.identity.role\r\n    })\r\n}\r\n\r\n  render() {\r\n    // console.log(this.state.tutorials[0]['name'])\r\n    \r\n    console.log(this.numberRange(5,8))\r\n    const teacher=\r\n    <div><h3>Your tutorials</h3>\r\n      <div className='cards__wrapper'>\r\n        {this.state.items}\r\n      </div></div>\r\n    const student=<div><h3>Your Progress</h3></div>\r\n    return (\r\n      <div className=\"container\">\r\n        <center>\r\n        <div>\r\n          <div className=\"col-sm-8 mx-auto\">\r\n            <center><h1 className=\"text-body\">PROFILE</h1></center>\r\n          </div>\r\n          <table className=\"table col-md-6 mx-auto\">\r\n            <tbody className=\"text-body\">\r\n              <tr>\r\n                <td>Username</td>\r\n                <td>{this.state.username}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>Role</td>\r\n                <td>{this.state.role}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        </center>\r\n        <br></br>\r\n        {this.state.role===\"teacher\"?teacher:student}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Profile"]},"metadata":{},"sourceType":"module"}