{"ast":null,"code":"var _jsxFileName = \"D:\\\\College\\\\Capstone project\\\\Final\\\\frontend\\\\new-ui\\\\src\\\\components\\\\pages\\\\Assessment.jsx\";\nimport React, { Component } from 'react';\nimport './assessment.css';\n\nclass Assessment extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      boolean_question: {},\n      mcq: '',\n      tid: this.props.location.tid\n    };\n    console.log(this.state);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.shuffle = this.shuffle.bind(this);\n  }\n\n  componentWillMount() {\n    fetch('http://localhost:5000/get_question_sets', {\n      method: 'POST',\n      body: JSON.stringify({\n        'tid': this.props.location.tid,\n        'setid': 'All'\n      }),\n      headers: new Headers({\n        \"content-type\": \"application/json\"\n      })\n    }).then(response => {\n      response.json().then(body => {\n        console.log(body);\n        this.setState({\n          mcq: body\n        });\n        console.log(this.state);\n      });\n    });\n  }\n\n  shuffle(array) {\n    console.log(\"hi\");\n    var currentIndex = array.length,\n        temporaryValue,\n        randomIndex; // While there remain elements to shuffle...\n\n    while (0 !== currentIndex) {\n      // Pick a remaining element...\n      randomIndex = Math.floor(Math.random() * currentIndex);\n      currentIndex -= 1; // And swap it with the current element.\n\n      temporaryValue = array[currentIndex];\n      array[currentIndex] = array[randomIndex];\n      array[randomIndex] = temporaryValue;\n    }\n\n    return array;\n  }\n\n  onSubmit(e) {\n    e.preventDefault(); // var formElements = \n\n    console.log(this.state.mcq.length);\n    var s = 0;\n\n    for (var i = 0; i < Object.keys(this.state.mcq).length; i++) {\n      // var ans=document.getElementsByName(i.toString())\n      // if(ans.checked)\n      this.state.mcq[i][\"user_answer\"] = document.querySelector(\"input[name=\\'\" + i.toString() + \"\\']:checked\").value; // ans.value;\n\n      if (this.state.mcq[i][\"user_answer\"] === this.state.mcq[i][\"answer\"]) s += 1;\n    }\n\n    console.log(this.state.mcq);\n    console.log(s);\n    document.getElementById(\"score\").innerHTML = \"Your score is : \" + s + \"/\" + Object.keys(this.state.mcq).length;\n  }\n\n  render() {\n    console.log(this.state);\n\n    if (this.state.mcq) {\n      for (var i = 0; i < Object.keys(this.state.mcq).length; i++) {\n        console.log(\"hello\");\n        this.state.mcq[i][\"options\"] = this.shuffle(this.state.mcq[i][\"options\"]);\n      } //   this.gen_questions()\n\n\n      return (\n        /*#__PURE__*/\n        // <form noValidate onSubmit={this.onSubmit}>\n        React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 5\n          }\n        }, /*#__PURE__*/React.createElement(\"form\", {\n          noValidate: true,\n          name: \"qa\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 7\n          }\n        }, Object.keys(this.state.mcq).map((key, index) => /*#__PURE__*/React.createElement(\"div\", {\n          className: \"card card-body no-gutters\",\n          key: index,\n          style: {\n            width: \"100%\",\n            backgroundColor: \"#A9A9A9\",\n            marginBottom: \"0 !important\",\n            height: \"10px\",\n            padding: \"0 !important\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-sm-10 mx-auto\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 12\n          }\n        }, /*#__PURE__*/React.createElement(\"h3\", {\n          className: \"card-body\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 11\n          }\n        }, index + 1, \") \", this.state.mcq[key][\"question_statement\"]), this.state.mcq[key][\"options\"].map((option, index1) => /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            color: option === this.state.mcq[key][\"answer\"] ? 'green' : 'black',\n            textAlign: 'left',\n            fontSize: '4vh'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"input\", {\n          type: \"radio\",\n          name: index,\n          value: option,\n          disabled: \"True\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }\n        }), \"  \", option)))))), /*#__PURE__*/React.createElement(\"div\", {\n          id: \"score\",\n          style: {\n            color: 'black',\n            textAlign: 'center',\n            fontSize: '6vh'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 5\n          }\n        }))\n      );\n    } else {\n      return null;\n    }\n  }\n\n}\n\nexport default Assessment;","map":{"version":3,"sources":["D:/College/Capstone project/Final/frontend/new-ui/src/components/pages/Assessment.jsx"],"names":["React","Component","Assessment","constructor","props","state","boolean_question","mcq","tid","location","console","log","onSubmit","bind","shuffle","componentWillMount","fetch","method","body","JSON","stringify","headers","Headers","then","response","json","setState","array","currentIndex","length","temporaryValue","randomIndex","Math","floor","random","e","preventDefault","s","i","Object","keys","document","querySelector","toString","value","getElementById","innerHTML","render","map","key","index","width","backgroundColor","marginBottom","height","padding","option","index1","color","textAlign","fontSize"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport './assessment.css';\r\nclass Assessment extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n    \r\n         this.state = {\r\n           boolean_question: {},\r\n           mcq:'',\r\n           tid:this.props.location.tid\r\n        };\r\n    \r\n        console.log(this.state)\r\n        this.onSubmit=this.onSubmit.bind(this);\r\n        this.shuffle=this.shuffle.bind(this);\r\n      }\r\n      componentWillMount() {\r\n        fetch('http://localhost:5000/get_question_sets', {\r\n      method: 'POST',\r\n      body:JSON.stringify({'tid':this.props.location.tid,'setid':'All'}),\r\n      headers: new Headers({\r\n        \"content-type\": \"application/json\"\r\n      })\r\n    }).then((response) => {\r\n      response.json().then((body) => {\r\n        console.log(body);\r\n        this.setState({mcq:body});\r\n        console.log(this.state);\r\n    });\r\n    })\r\n     }\r\n    \r\n  shuffle(array) {\r\n    console.log(\"hi\");\r\n    var currentIndex = array.length, temporaryValue, randomIndex;\r\n  \r\n    // While there remain elements to shuffle...\r\n    while (0 !== currentIndex) {\r\n  \r\n      // Pick a remaining element...\r\n      randomIndex = Math.floor(Math.random() * currentIndex);\r\n      currentIndex -= 1;\r\n  \r\n      // And swap it with the current element.\r\n      temporaryValue = array[currentIndex];\r\n      array[currentIndex] = array[randomIndex];\r\n      array[randomIndex] = temporaryValue;\r\n    }\r\n  \r\n    return array;\r\n  }\r\n  onSubmit(e) {\r\n    e.preventDefault()\r\n    // var formElements = \r\n    console.log(this.state.mcq.length);\r\n    var s=0;\r\n    for(var i=0;i<Object.keys(this.state.mcq).length;i++){\r\n      // var ans=document.getElementsByName(i.toString())\r\n      // if(ans.checked)\r\n      this.state.mcq[i][\"user_answer\"]=document.querySelector(\"input[name=\\'\"+i.toString()+\"\\']:checked\").value;\r\n      // ans.value;\r\n      if(this.state.mcq[i][\"user_answer\"]===this.state.mcq[i][\"answer\"])\r\n        s+=1;\r\n    }\r\n\r\n    console.log(this.state.mcq);\r\n    console.log(s);\r\n    document.getElementById(\"score\").innerHTML=\"Your score is : \"+s+\"/\"+Object.keys(this.state.mcq).length;\r\n  }\r\n\r\n  render() {\r\n    console.log(this.state);\r\n    if(this.state.mcq){\r\n    for(var i=0;i<Object.keys(this.state.mcq).length;i++){\r\n      console.log(\"hello\");\r\n      this.state.mcq[i][\"options\"]=this.shuffle(this.state.mcq[i][\"options\"]);\r\n    }\r\n    //   this.gen_questions()\r\n    return (\r\n    // <form noValidate onSubmit={this.onSubmit}>\r\n    <div>\r\n      <form noValidate name=\"qa\">\r\n        \r\n      { \r\n        Object.keys(this.state.mcq).map((key, index) => ( \r\n            <div className=\"card card-body no-gutters\" key={index} style={{width:\"100%\",backgroundColor:\"#A9A9A9\", marginBottom:\"0 !important\", height:\"10px\", padding:\"0 !important\"}}>\r\n           <div className=\"col-sm-10 mx-auto\">\r\n          <h3 className=\"card-body\">{index+1}) {this.state.mcq[key][\"question_statement\"]}</h3> \r\n          {\r\n          this.state.mcq[key][\"options\"].map((option,index1) => (\r\n            <div style={{color: option===this.state.mcq[key][\"answer\"]? 'green': 'black', textAlign: 'left', fontSize:'4vh' }}>\r\n              <input type=\"radio\" name={index} value={option} disabled=\"True\"/>  {option}\r\n            </div>)\r\n          )}\r\n          </div>\r\n          </div>\r\n        ))\r\n      }\r\n \r\n    {/* <input type=\"submit\" className=\"btn-secondary btn-lg\" disabled=\"True\"/> */}\r\n    </form>\r\n    <div id=\"score\" style={{color: 'black', textAlign: 'center', fontSize:'6vh' }}></div>\r\n    </div>\r\n    )\r\n  }\r\nelse{\r\n  return null;\r\n}\r\n}\r\n}\r\n\r\nexport default Assessment"]},"metadata":{},"sourceType":"module"}